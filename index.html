<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="A timeline-style quote gallery with focus mode, favorites, and shuffle." />
  <meta name="theme-color" content="#071421" />
  <title>Quote Current</title>

  <style>
    :root{
      /* Totally new palette: deep ocean + coral + mint */
      --bg1:#071421;
      --bg2:#0b1f33;
      --card:#0f2a44;
      --card2:#123352;
      --ink:#eaf6ff;
      --muted:#b8d3e6;
      --line: rgba(234,246,255,.14);

      --coral:#ff5a7a;
      --mint:#48f5c6;
      --sun:#ffd66b;

      --shadow: 0 18px 52px rgba(0,0,0,.55);
      --r: 18px;
      --mono: ui-monospace, Menlo, Consolas, "Liberation Mono", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    [data-theme="light"]{
      --bg1:#f7fbff;
      --bg2:#eef6ff;
      --card:#ffffff;
      --card2:#ffffff;
      --ink:#0b1620;
      --muted:#415c70;
      --line: rgba(11,22,32,.12);

      --coral:#cc1f56;
      --mint:#058a74;
      --sun:#b78300;

      --shadow: 0 18px 52px rgba(10,20,30,.12);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background:
        radial-gradient(900px 700px at 15% 10%, rgba(72,245,198,.14), transparent 55%),
        radial-gradient(900px 700px at 85% 10%, rgba(255,90,122,.12), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 22px 16px 80px;
    }

    header{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:14px;
      margin-bottom: 16px;
    }

    .titleBlock h1{
      margin:0;
      font-size: clamp(24px, 3.2vw, 44px);
      letter-spacing:-.03em;
      line-height:1.05;
    }

    .titleBlock p{
      margin:8px 0 0;
      color: var(--muted);
      max-width: 80ch;
      font-size: 14px;
      line-height:1.45;
    }

    .hud{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:10px;
      min-width: 240px;
    }

    .pill{
      border:1px solid var(--line);
      border-radius: 999px;
      padding: 8px 10px;
      font-family: var(--mono);
      font-size:12px;
      color: var(--muted);
      background: rgba(255,255,255,.04);
      text-align:right;
      width: fit-content;
      box-shadow: var(--shadow);
    }

    .controls{
      margin-top: 10px;
      display:grid;
      grid-template-columns: 1.3fr .8fr .8fr;
      gap:10px;
      align-items:end;
    }
    @media (max-width: 900px){
      header{ flex-direction:column; align-items:flex-start; }
      .hud{ align-items:flex-start; }
      .controls{ grid-template-columns: 1fr; }
    }

    label{
      display:block;
      font-family: var(--mono);
      font-size:11px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
      margin: 0 0 6px 4px;
    }

    input, select{
      width:100%;
      padding: 12px 12px;
      border-radius: 16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      color: var(--ink);
      outline:none;
      font-size: 14px;
    }
    input::placeholder{ color: rgba(184,211,230,.72); }
    [data-theme="light"] input::placeholder{ color: rgba(65,92,112,.70); }

    input:focus, select:focus{
      border-color: rgba(72,245,198,.70);
      box-shadow: 0 0 0 4px rgba(72,245,198,.15);
    }

    .btnRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin: 14px 0 18px;
    }

    .btn{
      border:1px solid var(--line);
      background:
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.16));
      color: var(--ink);
      border-radius: 16px;
      padding: 11px 12px;
      cursor:pointer;
      font-weight: 950;
      font-size: 13px;
      user-select:none;
      transition: transform .08s ease, border-color .15s ease, background .15s ease;
      box-shadow: var(--shadow);
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn:hover{ border-color: rgba(255,90,122,.60); }
    .btn:active{ transform: translateY(1px); }

    .dot{
      width:10px; height:10px; border-radius:999px;
      background: var(--mint);
      box-shadow: 0 0 0 4px rgba(72,245,198,.15);
      flex:0 0 auto;
    }
    .dot.coral{ background: var(--coral); box-shadow: 0 0 0 4px rgba(255,90,122,.14); }
    .dot.sun{ background: var(--sun); box-shadow: 0 0 0 4px rgba(255,214,107,.14); }

    /* TIMELINE */
    .timeline{
      position: relative;
      padding-left: 26px;
      margin-top: 4px;
    }
    .timeline::before{
      content:"";
      position:absolute;
      left: 11px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(180deg, rgba(72,245,198,.55), rgba(255,90,122,.55));
      border-radius: 999px;
      opacity: .9;
    }

    .entry{
      position: relative;
      margin: 14px 0;
    }
    .pin{
      position:absolute;
      left: -2px;
      top: 18px;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border:1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: var(--shadow);
    }
    .pin::after{
      content:"";
      width: 10px; height: 10px;
      border-radius: 999px;
      background: var(--mint);
    }

    .card{
      border:1px solid var(--line);
      border-radius: 20px;
      background:
        radial-gradient(900px 400px at 20% 0%, rgba(72,245,198,.10), transparent 55%),
        radial-gradient(900px 400px at 85% 0%, rgba(255,90,122,.10), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.07), rgba(0,0,0,.18)),
        var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    [data-theme="light"] .card{
      background:
        radial-gradient(900px 400px at 20% 0%, rgba(5,138,116,.10), transparent 55%),
        radial-gradient(900px 400px at 85% 0%, rgba(204,31,86,.10), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,.00)),
        var(--card);
    }

    .cardHead{
      padding: 14px 14px 12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      cursor:pointer;
    }

    .miniTitle{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .flag{
      font-family: var(--mono);
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      white-space:nowrap;
    }
    .flag.star{ color: var(--sun); border-color: rgba(255,214,107,.40); background: rgba(255,214,107,.10); }

    .excerpt{
      margin: 10px 0 0;
      font-size: 16px;
      line-height: 1.45;
      letter-spacing: -.01em;
      color: var(--ink);
    }

    .cardBody{
      padding: 0 14px 14px;
      display:none;
    }
    .entry.open .cardBody{ display:block; }

    .full{
      margin: 0;
      font-size: 18px;
      line-height: 1.5;
      color: var(--ink);
    }

    .meta{
      margin-top: 12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px 14px;
      color: var(--muted);
      font-family: var(--mono);
      font-size: 12px;
      align-items:center;
    }

    .tags{
      margin-top: 10px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .tag{
      font-family: var(--mono);
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      color: var(--muted);
      background: rgba(255,255,255,.04);
    }

    .cardBtns{
      margin-top: 12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }

    .miniBtn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--ink);
      border-radius: 14px;
      padding: 9px 10px;
      cursor:pointer;
      font-weight: 900;
      font-size: 12px;
      transition: transform .08s ease, border-color .15s ease;
      user-select:none;
    }
    .miniBtn:hover{ border-color: rgba(72,245,198,.60); }
    .miniBtn:active{ transform: translateY(1px); }

    /* Focus modal */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.62);
      z-index: 999;
      padding: 18px;
    }
    .overlay.show{ display:flex; }

    .modal{
      width: min(900px, 100%);
      border:1px solid var(--line);
      border-radius: 22px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.18)),
        var(--card2);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    .modalTop{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      margin-bottom: 10px;
    }

    .x{
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      border-radius: 14px;
      padding: 10px 12px;
      cursor:pointer;
      font-weight: 950;
      color: var(--ink);
    }

    .bigQuote{
      margin:0;
      font-size: clamp(22px, 2.8vw, 40px);
      line-height: 1.2;
      letter-spacing:-.02em;
      color: var(--ink);
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.78);
      color: white;
      border: 1px solid rgba(255,255,255,.16);
      border-radius: 14px;
      padding: 10px 12px;
      font-size: 13px;
      box-shadow: var(--shadow);
      opacity: 0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
      z-index: 1000;
      max-width: min(980px, calc(100% - 24px));
      text-align:center;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-6px);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="titleBlock">
        <h1>Quote Current</h1>
        <p>A timeline of lines about searching, study, prayer, and questions. Expand entries, save favorites, and open Focus mode.</p>
      </div>
      <div class="hud">
        <div class="pill" id="stats">0 shown • 0 favorites</div>
        <div class="pill">Keys: ↑/↓ move • Enter expand • C copy • F favorite • T theme</div>
      </div>
    </header>

    <div class="controls">
      <div>
        <label for="search">Search</label>
        <input id="search" placeholder="Search keyword, mood, theme…" />
      </div>
      <div>
        <label for="book">Book</label>
        <select id="book"></select>
      </div>
      <div>
        <label for="view">View</label>
        <select id="view">
          <option value="all">All quotes</option>
          <option value="favorites">Favorites only</option>
        </select>
      </div>
    </div>

    <div class="btnRow">
      <button class="btn" id="expandAll"><span class="dot"></span>Expand all</button>
      <button class="btn" id="collapseAll"><span class="dot coral"></span>Collapse all</button>
      <button class="btn" id="shuffle"><span class="dot"></span>Shuffle</button>
      <button class="btn" id="focus"><span class="dot sun"></span>Focus</button>
      <button class="btn" id="theme"><span class="dot coral"></span>Theme</button>
    </div>

    <div class="timeline" id="timeline"></div>
  </div>

  <!-- Focus modal -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalTop">
        <div class="pill" id="focusMeta" style="box-shadow:none;background:rgba(255,255,255,.05)">FOCUS</div>
        <button class="x" id="close">✕</button>
      </div>
      <p class="bigQuote" id="focusQuote"></p>
      <div class="btnRow" style="margin-top:14px">
        <button class="btn" id="focusCopy"><span class="dot"></span>Copy</button>
        <button class="btn" id="focusFav"><span class="dot sun"></span>Favorite</button>
        <button class="btn" id="focusNext"><span class="dot coral"></span>Next</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    // Your quote included EXACTLY as typed; it is NOT the first entry.
    // Other lines are original "Collection" quotes in similar themes to avoid misquoting books.
    const quotes = [
      { id:"c1", text:"He studied until the page felt like a mirror, asking him what he truly believed.", book:"Collection", author:"", cite:"", themes:["study","belief","questions"] },
      { id:"wiesel-4", text:"I read, I studied, I prayed... I wanted to ask him the questions that thronged my mind", book:"Night", author:"Elie Wiesel", cite:"(Wiesel 4)", themes:["reading","study","prayer","questions"] },
      { id:"c2", text:"Prayer became less about answers and more about staying human.", book:"Collection", author:"", cite:"", themes:["prayer","identity"] },
      { id:"c3", text:"He kept a careful face, but inside his mind was loud with why.", book:"Collection", author:"", cite:"", themes:["questions","inner life"] },
      { id:"c4", text:"He read for comfort and found responsibility instead.", book:"Collection", author:"", cite:"", themes:["reading","duty"] },
      { id:"c5", text:"He wanted a teacher who could stand beside a question without rushing it.", book:"Collection", author:"", cite:"", themes:["learning","questions"] },
      { id:"c6", text:"He studied as if knowledge could protect the people he loved.", book:"Collection", author:"", cite:"", themes:["study","love"] },
      { id:"c7", text:"Every answer opened into a hallway of new questions.", book:"Collection", author:"", cite:"", themes:["questions","truth"] }
    ];

    const els = {
      timeline: document.getElementById("timeline"),
      search: document.getElementById("search"),
      book: document.getElementById("book"),
      view: document.getElementById("view"),
      stats: document.getElementById("stats"),
      toast: document.getElementById("toast"),

      expandAll: document.getElementById("expandAll"),
      collapseAll: document.getElementById("collapseAll"),
      shuffle: document.getElementById("shuffle"),
      focus: document.getElementById("focus"),
      theme: document.getElementById("theme"),

      overlay: document.getElementById("overlay"),
      close: document.getElementById("close"),
      focusQuote: document.getElementById("focusQuote"),
      focusMeta: document.getElementById("focusMeta"),
      focusCopy: document.getElementById("focusCopy"),
      focusFav: document.getElementById("focusFav"),
      focusNext: document.getElementById("focusNext"),
    };

    const storage = {
      getTheme: () => localStorage.getItem("qc_theme") || "dark",
      setTheme: (t) => localStorage.setItem("qc_theme", t),
      getFavs: () => {
        try { return JSON.parse(localStorage.getItem("qc_favs") || "[]"); }
        catch { return []; }
      },
      setFavs: (arr) => localStorage.setItem("qc_favs", JSON.stringify(arr))
    };

    let favorites = new Set(storage.getFavs());
    let focusedId = null;
    let cursor = 0;

    function showToast(msg){
      els.toast.textContent = msg;
      els.toast.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => els.toast.classList.remove("show"), 1500);
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s => ({
        "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;"
      })[s]);
    }

    function uniq(arr){ return Array.from(new Set(arr)).sort((a,b)=>a.localeCompare(b)); }

    function matchesQuery(q, item){
      if(!q) return true;
      const hay = [item.text, item.book, item.author, item.cite || "", ...(item.themes||[])].join(" ").toLowerCase();
      return hay.includes(q.toLowerCase());
    }

    function buildBookFilter(){
      const books = uniq(quotes.map(q => q.book));
      els.book.innerHTML =
        `<option value="">All books</option>` +
        books.map(b => `<option value="${escapeHtml(b)}">${escapeHtml(b)}</option>`).join("");
    }

    function filtered(){
      const q = (els.search.value || "").trim();
      const book = els.book.value;
      const mode = els.view.value;

      return quotes.filter(item => {
        if(mode === "favorites" && !favorites.has(item.id)) return false;
        if(book && item.book !== book) return false;
        return matchesQuery(q, item);
      });
    }

    function render(){
      const list = filtered();
      els.stats.textContent = `${list.length} shown • ${favorites.size} favorites`;

      if(list.length === 0){
        els.timeline.innerHTML = `<div style="color:var(--muted);font-family:var(--mono);padding:14px;border:1px dashed var(--line);border-radius:18px;">
          No results. Try clearing filters.
        </div>`;
        return;
      }

      cursor = Math.max(0, Math.min(cursor, list.length - 1));

      els.timeline.innerHTML = list.map((q, idx) => {
        const star = favorites.has(q.id);
        const open = idx === cursor ? "open" : "";
        const excerpt = q.text.length > 110 ? q.text.slice(0,110) + "…" : q.text;

        const author = q.author || "—";
        const cite = q.cite || "";

        return `
          <div class="entry ${open}" data-id="${escapeHtml(q.id)}" data-idx="${idx}">
            <div class="pin"></div>
            <div class="card">
              <div class="cardHead" role="button" tabindex="0" aria-label="Toggle quote">
                <div>
                  <div class="miniTitle">
                    <span>${escapeHtml(q.book)}</span>
                    <span class="flag ${star ? "star" : ""}">${star ? "★ Saved" : "☆ Save"}</span>
                  </div>
                  <div class="excerpt">“${escapeHtml(excerpt)}”</div>
                </div>
              </div>

              <div class="cardBody">
                <p class="full">“${escapeHtml(q.text)}”</p>
                <div class="meta">
                  <span><b>Author:</b> ${escapeHtml(author)}</span>
                  <span><b>Citation:</b> ${escapeHtml(cite || "—")}</span>
                </div>
                <div class="tags">
                  ${(q.themes||[]).map(t => `<span class="tag">${escapeHtml(t)}</span>`).join("")}
                </div>

                <div class="cardBtns">
                  <button class="miniBtn" data-act="copy">Copy</button>
                  <button class="miniBtn" data-act="fav">${star ? "Unfavorite" : "Favorite"}</button>
                  <button class="miniBtn" data-act="focus">Focus</button>
                </div>
              </div>
            </div>
          </div>
        `;
      }).join("");

      // auto scroll current open entry into view (nice on long lists)
      const openEl = els.timeline.querySelector(`.entry[data-idx="${cursor}"]`);
      if(openEl) openEl.scrollIntoView({block:"nearest"});
    }

    function toggleEntry(entryEl){
      const idx = Number(entryEl.getAttribute("data-idx"));
      cursor = idx;
      render();
    }

    function toggleTheme(){
      const cur = document.documentElement.getAttribute("data-theme") || "dark";
      const next = cur === "light" ? "dark" : "light";
      if(next === "light") document.documentElement.setAttribute("data-theme","light");
      else document.documentElement.removeAttribute("data-theme");
      storage.setTheme(next);
      showToast("Theme: " + next);
    }

    function initTheme(){
      const t = storage.getTheme();
      if(t === "light") document.documentElement.setAttribute("data-theme","light");
      else document.documentElement.removeAttribute("data-theme");
    }

    function toggleFavorite(id){
      if(!id) return;
      if(favorites.has(id)) favorites.delete(id);
      else favorites.add(id);
      storage.setFavs(Array.from(favorites));
      showToast(favorites.has(id) ? "Saved" : "Removed");
      render();
    }

    function fallbackCopy(text){
      const ta = document.createElement("textarea");
      ta.value = text;
      ta.style.position = "fixed";
      ta.style.left = "-9999px";
      document.body.appendChild(ta);
      ta.select();
      try { document.execCommand("copy"); } catch(e){}
      document.body.removeChild(ta);
    }

    async function copyQuote(id){
      const q = quotes.find(x => x.id === id);
      if(!q) return;
      const cite = q.cite ? " " + q.cite : "";
      const author = q.author ? q.author + ", " : "";
      const text = `"${q.text}" — ${author}${q.book}${cite}`.trim();

      try{
        if(navigator.clipboard && navigator.clipboard.writeText) await navigator.clipboard.writeText(text);
        else fallbackCopy(text);
        showToast("Copied!");
      }catch{
        fallbackCopy(text);
        showToast("Copied!");
      }
    }

    function shufflePick(){
      const list = filtered();
      if(list.length === 0) return;
      cursor = Math.floor(Math.random() * list.length);
      showToast("Shuffled");
      render();
    }

    function openFocus(id){
      const q = quotes.find(x => x.id === id);
      if(!q) return;
      focusedId = id;
      els.focusMeta.textContent = `${q.book}${q.cite ? " • " + q.cite : ""}`;
      els.focusQuote.textContent = `“${q.text}”`;
      els.focusFav.textContent = (favorites.has(id) ? "Unfavorite" : "Favorite");
      els.overlay.classList.add("show");
      els.overlay.setAttribute("aria-hidden","false");
    }

    function closeFocus(){
      els.overlay.classList.remove("show");
      els.overlay.setAttribute("aria-hidden","true");
    }

    function focusNext(){
      const list = filtered();
      if(list.length === 0) return;
      const idx = Math.max(0, list.findIndex(x => x.id === focusedId));
      const next = list[(idx + 1) % list.length];
      openFocus(next.id);
    }

    function expandAll(){
      // make everything open by removing cursor-based open and applying open to all entries
      const list = filtered();
      if(list.length === 0) return;
      els.timeline.querySelectorAll(".entry").forEach(e => e.classList.add("open"));
      showToast("Expanded all");
    }

    function collapseAll(){
      els.timeline.querySelectorAll(".entry").forEach(e => e.classList.remove("open"));
      showToast("Collapsed all");
    }

    function wire(){
      els.search.addEventListener("input", () => { cursor = 0; render(); });
      els.book.addEventListener("change", () => { cursor = 0; render(); });
      els.view.addEventListener("change", () => { cursor = 0; render(); });

      els.expandAll.addEventListener("click", expandAll);
      els.collapseAll.addEventListener("click", collapseAll);
      els.shuffle.addEventListener("click", shufflePick);

      els.focus.addEventListener("click", () => {
        const list = filtered();
        if(list.length === 0) return;
        const q = list[cursor];
        openFocus(q.id);
      });

      els.theme.addEventListener("click", toggleTheme);

      // Timeline interactions
      els.timeline.addEventListener("click", (e) => {
        const head = e.target.closest(".cardHead");
        const entry = e.target.closest(".entry");
        if(!entry) return;

        const actBtn = e.target.closest("[data-act]");
        if(actBtn){
          const id = entry.getAttribute("data-id");
          const act = actBtn.getAttribute("data-act");
          if(act === "copy") copyQuote(id);
          if(act === "fav") toggleFavorite(id);
          if(act === "focus") openFocus(id);
          return;
        }

        if(head){
          toggleEntry(entry);
        }
      });

      // Focus modal
      els.close.addEventListener("click", closeFocus);
      els.overlay.addEventListener("click", (e) => {
        if(e.target === els.overlay) closeFocus();
      });

      els.focusCopy.addEventListener("click", () => focusedId && copyQuote(focusedId));
      els.focusFav.addEventListener("click", () => focusedId && toggleFavorite(focusedId));
      els.focusNext.addEventListener("click", focusNext);

      // Keyboard
      window.addEventListener("keydown", (e) => {
        if(e.target && (e.target.tagName === "INPUT" || e.target.tagName === "SELECT" || e.target.tagName === "TEXTAREA")) return;

        const list = filtered();
        if(e.key === "ArrowUp"){ e.preventDefault(); cursor = Math.max(0, cursor - 1); render(); }
        if(e.key === "ArrowDown"){ e.preventDefault(); cursor = Math.min(Math.max(0, list.length - 1), cursor + 1); render(); }
        if(e.key === "Enter" && list[cursor]){ openFocus(list[cursor].id); }
        if(e.key.toLowerCase() === "c" && list[cursor]){ copyQuote(list[cursor].id); }
        if(e.key.toLowerCase() === "f" && list[cursor]){ toggleFavorite(list[cursor].id); }
        if(e.key.toLowerCase() === "t"){ toggleTheme(); }
      });
    }

    (function boot(){
      initTheme();
      buildBookFilter();
      wire();
      render();
    })();
  </script>
</body>
</html>
